# üß† Grok3API OpenAI-Compatible Server

> ü§ñ **–†–∞–Ω–Ω—è—è —Å—Ç–∞–¥–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–µ—Ä–≤—ã–π —á–µ—Ä–Ω–æ–≤–∏–∫ —Å–µ—Ä–≤–µ—Ä–∞, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —Å OpenAI API (`/v1/chat/completions`).

> ‚ö†Ô∏è **–ù–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ä–∞–Ω–Ω–µ–π —Å—Ç–∞–¥–∏–∏ –∏ –Ω–µ –æ—Ç–ª–∞–∂–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫!**

---

### ‚öôÔ∏è –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `fastapi`, `uvicorn`, `pydantic`, –∏ —Å–∞–º `grok3api`.

```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
python -m grok3api.server
```

```bash
# –ò–ª–∏ –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç
python -m grok3api.server --host 127.0.0.1 --port 9000
```

üéâ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://127.0.0.1:9000`.

> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `uvicorn` –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–¥—É–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (—á–µ—Ä–µ–∑ `-m`).

---

## üîÅ –≠–Ω–¥–ø–æ–∏–Ω—Ç: `/v1/chat/completions`

–°–æ–≤–º–µ—Å—Ç–∏–º —Å OpenAI —Ñ–æ—Ä–º–∞—Ç–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤:

### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

```python
from openai import OpenAI
from openai import OpenAIError

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –∑–∞–¥–∞–Ω–Ω—ã–º URL –∏ –∫–ª—é—á–æ–º
client = OpenAI(
    base_url="http://localhost:9000/v1",
    api_key="dummy"
)

try:
    # –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    response = client.chat.completions.create(
        model="grok-3",
        messages=[{"role": "user", "content": "–ß—Ç–æ —Ç–∞–∫–æ–µ Python?"}]
    )

    # –í—ã–≤–æ–¥ –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
    print("–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:")
    print(f"–ú–æ–¥–µ–ª—å: {response.model}")
    print(f"–°–æ–æ–±—â–µ–Ω–∏–µ: {response.choices[0].message.content}")
    print(f"–ü—Ä–∏—á–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: {response.choices[0].finish_reason}")
    print(f"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: {response.usage}")

except OpenAIError as e:
    print(f"–û—à–∏–±–∫–∞: {e}")
except Exception as e:
    print(f"–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")

```

> `stream` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â—ë–Ω `400 Bad Request`.


### üì§ –í—ã–≤–æ–¥:

```
–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:
–ú–æ–¥–µ–ª—å: grok-3
–°–æ–æ–±—â–µ–Ω–∏–µ: Python ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø—Ä–æ—Å—Ç—ã–º –∏ —á–∏—Ç–∞–µ–º—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º. –û–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–¥–∏–≥–º—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ, –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–µ) –∏ —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á, –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∏ –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π. Python –ø–æ–ø—É–ª—è—Ä–µ–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–≤–æ–µ–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç–∏, –æ–±—à–∏—Ä–Ω–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –∏ –±–æ–ª—å—à–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
–ü—Ä–∏—á–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: stop
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: CompletionUsage(completion_tokens=46, prompt_tokens=3, total_tokens=49, completion_tokens_details=None, prompt_tokens_details=None)
```

---


## üßµ –≠–Ω–¥–ø–æ–∏–Ω—Ç: `/v1/string` (GET)

–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π GET-–∑–∞–ø—Ä–æ—Å. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –∫–∞–∫ query-–ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç Grok –±–µ–∑ JSON-–æ–±—ë—Ä—Ç–∫–∏.

### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `curl`:

```bash
curl http://localhost:9000/v1/string?q=–ü—Ä–∏–≤–µ—Ç
```

### üì§ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```
–ü—Ä–∏–≤–µ—Ç! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
```

### üêç –ü—Ä–∏–º–µ—Ä –∏–∑ Python:

```python
import requests

response = requests.get("http://localhost:9000/v1/string", params={"q": "–†–∞—Å—Å–∫–∞–∂–∏ –∞–Ω–µ–∫–¥–æ—Ç"})
print(response.text)  # –ü—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç, –±–µ–∑ JSON
```

---


## üßµ –≠–Ω–¥–ø–æ–∏–Ω—Ç: `/v1/string` (POST)

–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π POST-–∑–∞–ø—Ä–æ—Å. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç Grok –±–µ–∑ JSON-–æ–±—ë—Ä—Ç–∫–∏.

### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `curl` –∏–ª–∏ –¥—Ä—É–≥–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

```bash
curl -X POST http://localhost:9000/v1/string -d "–ü—Ä–∏–≤–µ—Ç"
```

### üì§ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```
–ü—Ä–∏–≤–µ—Ç! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
```

### üêç –ü—Ä–∏–º–µ—Ä –∏–∑ Python:

```python
import requests

response = requests.post("http://localhost:9000/v1/string", data="–†–∞—Å—Å–∫–∞–∂–∏ –∞–Ω–µ–∫–¥–æ—Ç")
print(response.text)  # –ü—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç, –±–µ–∑ JSON
```


---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è         | –û–ø–∏—Å–∞–Ω–∏–µ                                   | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|--------------------|--------------------------------------------|--------------|
| `GROK_COOKIES`     | –ö—É–∫–∏-—Ñ–∞–π–ª –¥–ª—è GrokClient                   | `None`       |
| `GROK_PROXY`       | –ü—Ä–æ–∫—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `http://localhost:8080`) | `None`       |
| `GROK_TIMEOUT`     | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ Grok (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)         | `120`        |
| `GROK_SERVER_HOST` | IP –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞                     | `0.0.0.0`    |
| `GROK_SERVER_PORT` | –ü–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞                   | `8000`       |





---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Grok3API/
‚îú‚îÄ‚îÄ grok3api/
‚îÇ   ‚îú‚îÄ‚îÄ server.py          # <--- –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ client.py
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ openai_test.py     # <--- —Ç–µ—Å—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md
```

---

## ‚ùó TODO / Known Issues

- [ ] üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ (`stream=True`)
- [ ] üß™ –ë–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- [ ] üßº –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `message_payload` –∏ –ª–æ–≥–∏–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏
- [ ] üß© –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –¥–æ–ø. —Ñ–∏—á–∏

---

üí¨ –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º ‚Äî welcome –≤ issues!
```